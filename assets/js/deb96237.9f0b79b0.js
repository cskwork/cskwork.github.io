"use strict";(self.webpackChunkionic_docs=self.webpackChunkionic_docs||[]).push([[11724],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>c});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),d=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=d(e.components);return a.createElement(o.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=d(n),k=r,c=u["".concat(o,".").concat(k)]||u[k]||m[k]||l;return n?a.createElement(c,i(i({ref:t},s),{},{components:n})):a.createElement(c,i({ref:t},s))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=k;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p[u]="string"==typeof e?e:r,i[1]=p;for(var d=2;d<l;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},91713:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>p,toc:()=>o});var a=n(87462),r=(n(67294),n(3905));const l={title:"App Capacitor Plugin API",description:"The App API handles high level App state and events.For example, this API emits events when the app enters and leaves the foreground, handles deeplinks, opens other apps, and manages persisted plugin state.",editUrl:"https://github.com/ionic-team/capacitor-plugins/blob/main/app/README.md",editApiUrl:"https://github.com/ionic-team/capacitor-plugins/blob/main/app/src/definitions.ts",sidebar_label:"App"},i="@capacitor/app",p={unversionedId:"native/app",id:"version-v6/native/app",isDocsHomePage:!1,title:"App Capacitor Plugin API",description:"The App API handles high level App state and events.For example, this API emits events when the app enters and leaves the foreground, handles deeplinks, opens other apps, and manages persisted plugin state.",source:"@site/versioned_docs/version-v6/native/app.md",sourceDirName:"native",slug:"/native/app",permalink:"/docs/v6/native/app",editUrl:"https://github.com/ionic-team/capacitor-plugins/edit/main/app/README.md",tags:[],version:"v6",frontMatter:{title:"App Capacitor Plugin API",description:"The App API handles high level App state and events.For example, this API emits events when the app enters and leaves the foreground, handles deeplinks, opens other apps, and manages persisted plugin state.",editUrl:"https://github.com/ionic-team/capacitor-plugins/blob/main/app/README.md",editApiUrl:"https://github.com/ionic-team/capacitor-plugins/blob/main/app/src/definitions.ts",sidebar_label:"App"},sidebar:"version-v6/native",previous:{title:"App Launcher",permalink:"/docs/v6/native/app-launcher"},next:{title:"Browser",permalink:"/docs/v6/native/browser"}},o=[{value:"Install",id:"install",children:[],level:2},{value:"iOS",id:"ios",children:[],level:2},{value:"Android",id:"android",children:[],level:2},{value:"Example",id:"example",children:[],level:2},{value:"API",id:"api",children:[{value:"exitApp()",id:"exitapp",children:[],level:3},{value:"getInfo()",id:"getinfo",children:[],level:3},{value:"getState()",id:"getstate",children:[],level:3},{value:"getLaunchUrl()",id:"getlaunchurl",children:[],level:3},{value:"minimizeApp()",id:"minimizeapp",children:[],level:3},{value:"addListener(&#39;appStateChange&#39;, ...)",id:"addlistenerappstatechange-",children:[],level:3},{value:"addListener(&#39;pause&#39;, ...)",id:"addlistenerpause-",children:[],level:3},{value:"addListener(&#39;resume&#39;, ...)",id:"addlistenerresume-",children:[],level:3},{value:"addListener(&#39;appUrlOpen&#39;, ...)",id:"addlistenerappurlopen-",children:[],level:3},{value:"addListener(&#39;appRestoredResult&#39;, ...)",id:"addlistenerapprestoredresult-",children:[],level:3},{value:"addListener(&#39;backButton&#39;, ...)",id:"addlistenerbackbutton-",children:[],level:3},{value:"removeAllListeners()",id:"removealllisteners",children:[],level:3},{value:"Interfaces",id:"interfaces",children:[{value:"AppInfo",id:"appinfo",children:[],level:4},{value:"AppState",id:"appstate",children:[],level:4},{value:"AppLaunchUrl",id:"applaunchurl",children:[],level:4},{value:"PluginListenerHandle",id:"pluginlistenerhandle",children:[],level:4},{value:"URLOpenListenerEvent",id:"urlopenlistenerevent",children:[],level:4},{value:"RestoredListenerEvent",id:"restoredlistenerevent",children:[],level:4},{value:"BackButtonListenerEvent",id:"backbuttonlistenerevent",children:[],level:4}],level:3},{value:"Type Aliases",id:"type-aliases",children:[{value:"StateChangeListener",id:"statechangelistener",children:[],level:4},{value:"URLOpenListener",id:"urlopenlistener",children:[],level:4},{value:"RestoredListener",id:"restoredlistener",children:[],level:4},{value:"BackButtonListener",id:"backbuttonlistener",children:[],level:4}],level:3}],level:2}],d={toc:o},s="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(s,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"capacitorapp"},"@capacitor/app"),(0,r.kt)("p",null,"The App API handles high level App state and events. For example, this API emits events when the app enters and leaves the foreground, handles deeplinks, opens other apps, and manages persisted plugin state."),(0,r.kt)("h2",{id:"install"},"Install"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @capacitor/app\nnpx cap sync\n")),(0,r.kt)("h2",{id:"ios"},"iOS"),(0,r.kt)("p",null,"For being able to open the app from a custom scheme you need to register the scheme first. You can do it by editing the ",(0,r.kt)("a",{parentName:"p",href:"https://capacitorjs.com/docs/ios/configuration#configuring-infoplist"},(0,r.kt)("inlineCode",{parentName:"a"},"Info.plist"))," file and adding this lines."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<key>CFBundleURLTypes</key>\n<array>\n  <dict>\n    <key>CFBundleURLName</key>\n    <string>com.getcapacitor.capacitor</string>\n    <key>CFBundleURLSchemes</key>\n    <array>\n      <string>mycustomscheme</string>\n    </array>\n  </dict>\n</array>\n")),(0,r.kt)("h2",{id:"android"},"Android"),(0,r.kt)("p",null,"For being able to open the app from a custom scheme you need to register the scheme first. You can do it by adding this lines inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"activity")," section of the ",(0,r.kt)("inlineCode",{parentName:"p"},"AndroidManifest.xml"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<intent-filter>\n    <action android:name="android.intent.action.VIEW" />\n    <category android:name="android.intent.category.DEFAULT" />\n    <category android:name="android.intent.category.BROWSABLE" />\n    <data android:scheme="@string/custom_url_scheme" />\n</intent-filter>\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"custom_url_scheme")," value is stored in ",(0,r.kt)("inlineCode",{parentName:"p"},"strings.xml"),". When the Android platform is added, ",(0,r.kt)("inlineCode",{parentName:"p"},"@capacitor/cli")," adds the app's package name as default value, but can be replaced by editing the ",(0,r.kt)("inlineCode",{parentName:"p"},"strings.xml")," file."),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { App } from '@capacitor/app';\n\nApp.addListener('appStateChange', ({ isActive }) => {\n  console.log('App state changed. Is active?', isActive);\n});\n\nApp.addListener('appUrlOpen', data => {\n  console.log('App opened with URL:', data);\n});\n\nApp.addListener('appRestoredResult', data => {\n  console.log('Restored state:', data);\n});\n\nconst checkAppLaunchUrl = async () => {\n  const { url } = await App.getLaunchUrl();\n\n  console.log('App opened with URL: ' + url);\n};\n")),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("docgen-index",null,(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#exitapp"},(0,r.kt)("inlineCode",{parentName:"a"},"exitApp()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#getinfo"},(0,r.kt)("inlineCode",{parentName:"a"},"getInfo()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#getstate"},(0,r.kt)("inlineCode",{parentName:"a"},"getState()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#getlaunchurl"},(0,r.kt)("inlineCode",{parentName:"a"},"getLaunchUrl()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#minimizeapp"},(0,r.kt)("inlineCode",{parentName:"a"},"minimizeApp()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#addlistenerappstatechange"},(0,r.kt)("inlineCode",{parentName:"a"},"addListener('appStateChange', ...)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#addlistenerpause"},(0,r.kt)("inlineCode",{parentName:"a"},"addListener('pause', ...)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#addlistenerresume"},(0,r.kt)("inlineCode",{parentName:"a"},"addListener('resume', ...)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#addlistenerappurlopen"},(0,r.kt)("inlineCode",{parentName:"a"},"addListener('appUrlOpen', ...)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#addlistenerapprestoredresult"},(0,r.kt)("inlineCode",{parentName:"a"},"addListener('appRestoredResult', ...)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#addlistenerbackbutton"},(0,r.kt)("inlineCode",{parentName:"a"},"addListener('backButton', ...)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#removealllisteners"},(0,r.kt)("inlineCode",{parentName:"a"},"removeAllListeners()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#interfaces"},"Interfaces")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#type-aliases"},"Type Aliases")))),(0,r.kt)("docgen-api",null,(0,r.kt)("h3",{id:"exitapp"},"exitApp()"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"exitApp() => Promise<void>\n")),(0,r.kt)("p",null,"Force exit the app. This should only be used in conjunction with the ",(0,r.kt)("inlineCode",{parentName:"p"},"backButton")," handler for Android to\nexit the app when navigation is complete."),(0,r.kt)("p",null,"Ionic handles this itself so you shouldn't need to call this if using Ionic."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.0.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getinfo"},"getInfo()"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"getInfo() => Promise<AppInfo>\n")),(0,r.kt)("p",null,"Return information about the app."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns:")," ",(0,r.kt)("code",null,"Promise","<",(0,r.kt)("a",{href:"#appinfo"},"AppInfo"),">")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.0.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getstate"},"getState()"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"getState() => Promise<AppState>\n")),(0,r.kt)("p",null,"Gets the current app state."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns:")," ",(0,r.kt)("code",null,"Promise","<",(0,r.kt)("a",{href:"#appstate"},"AppState"),">")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.0.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getlaunchurl"},"getLaunchUrl()"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"getLaunchUrl() => Promise<AppLaunchUrl | undefined>\n")),(0,r.kt)("p",null,"Get the URL the app was launched with, if any."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns:")," ",(0,r.kt)("code",null,"Promise","<",(0,r.kt)("a",{href:"#applaunchurl"},"AppLaunchUrl"),">")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.0.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"minimizeapp"},"minimizeApp()"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"minimizeApp() => Promise<void>\n")),(0,r.kt)("p",null,"Minimizes the application."),(0,r.kt)("p",null,"Only available for Android."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.1.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"addlistenerappstatechange-"},"addListener('appStateChange', ...)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"addListener(eventName: 'appStateChange', listenerFunc: StateChangeListener) => Promise<PluginListenerHandle> & PluginListenerHandle\n")),(0,r.kt)("p",null,"Listen for changes in the app or the activity states."),(0,r.kt)("p",null,"On iOS it's fired when the native ",(0,r.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/uikit/uiapplication/1622973-willresignactivenotification"},"UIApplication.willResignActiveNotification")," and\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/uikit/uiapplication/1622953-didbecomeactivenotification"},"UIApplication.didBecomeActiveNotification")," events get fired.\nOn Android it's fired when the Capacitor's Activity ",(0,r.kt)("a",{parentName:"p",href:"https://developer.android.com/reference/android/app/Activity#onResume()"},"onResume")," and ",(0,r.kt)("a",{parentName:"p",href:"https://developer.android.com/reference/android/app/Activity#onStop()"},"onStop")," methods gets called.\nOn Web it's fired when the document's visibilitychange gets fired."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"eventName"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"'appStateChange'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"listenerFunc"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,(0,r.kt)("a",{href:"#statechangelistener"},"StateChangeListener")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns:")," ",(0,r.kt)("code",null,"Promise","<",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"),">"," & ",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.0.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"addlistenerpause-"},"addListener('pause', ...)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"addListener(eventName: 'pause', listenerFunc: () => void) => Promise<PluginListenerHandle> & PluginListenerHandle\n")),(0,r.kt)("p",null,"Listen for when the app or the activity are paused."),(0,r.kt)("p",null,"On iOS it's fired when the native ",(0,r.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/uikit/uiapplication/1623071-didenterbackgroundnotification"},"UIApplication.didEnterBackgroundNotification")," event gets fired.\nOn Android it's fired when the Capacitor's Activity ",(0,r.kt)("a",{parentName:"p",href:"https://developer.android.com/reference/android/app/Activity#onPause()"},"onPause")," method gets called.\nOn Web it's fired when the document's visibilitychange gets fired and document.hidden is true."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"eventName"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"'pause'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"listenerFunc"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"() =",">"," void"))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns:")," ",(0,r.kt)("code",null,"Promise","<",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"),">"," & ",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 4.1.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"addlistenerresume-"},"addListener('resume', ...)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"addListener(eventName: 'resume', listenerFunc: () => void) => Promise<PluginListenerHandle> & PluginListenerHandle\n")),(0,r.kt)("p",null,"Listen for when the app or activity are resumed."),(0,r.kt)("p",null,"On iOS it's fired when the native ",(0,r.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/uikit/uiapplication/1622944-willenterforegroundnotification"},"UIApplication.willEnterForegroundNotification")," event gets fired.\nOn Android it's fired when the Capacitor's Activity ",(0,r.kt)("a",{parentName:"p",href:"https://developer.android.com/reference/android/app/Activity#onResume()"},"onResume")," method gets called,\nbut only after resume has fired first.\nOn Web it's fired when the document's visibilitychange gets fired and document.hidden is false."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"eventName"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"'resume'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"listenerFunc"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"() =",">"," void"))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns:")," ",(0,r.kt)("code",null,"Promise","<",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"),">"," & ",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 4.1.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"addlistenerappurlopen-"},"addListener('appUrlOpen', ...)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"addListener(eventName: 'appUrlOpen', listenerFunc: URLOpenListener) => Promise<PluginListenerHandle> & PluginListenerHandle\n")),(0,r.kt)("p",null,"Listen for url open events for the app. This handles both custom URL scheme links as well\nas URLs your app handles (Universal Links on iOS and App Links on Android)"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"eventName"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"'appUrlOpen'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"listenerFunc"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,(0,r.kt)("a",{href:"#urlopenlistener"},"URLOpenListener")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns:")," ",(0,r.kt)("code",null,"Promise","<",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"),">"," & ",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.0.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"addlistenerapprestoredresult-"},"addListener('appRestoredResult', ...)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"addListener(eventName: 'appRestoredResult', listenerFunc: RestoredListener) => Promise<PluginListenerHandle> & PluginListenerHandle\n")),(0,r.kt)("p",null,"If the app was launched with previously persisted plugin call data, such as on Android\nwhen an activity returns to an app that was closed, this call will return any data\nthe app was launched with, converted into the form of a result from a plugin call."),(0,r.kt)("p",null,"On Android, due to memory constraints on low-end devices, it's possible\nthat, if your app launches a new activity, your app will be terminated by\nthe operating system in order to reduce memory consumption."),(0,r.kt)("p",null,"For example, that means the Camera API, which launches a new Activity to\ntake a photo, may not be able to return data back to your app."),(0,r.kt)("p",null,"To avoid this, Capacitor stores all restored activity results on launch.\nYou should add a listener for ",(0,r.kt)("inlineCode",{parentName:"p"},"appRestoredResult")," in order to handle any\nplugin call results that were delivered when your app was not running."),(0,r.kt)("p",null,"Once you have that result (if any), you can update the UI to restore a\nlogical experience for the user, such as navigating or selecting the\nproper tab."),(0,r.kt)("p",null,"We recommend every Android app using plugins that rely on external\nActivities (for example, Camera) to have this event and process handled."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"eventName"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"'appRestoredResult'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"listenerFunc"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,(0,r.kt)("a",{href:"#restoredlistener"},"RestoredListener")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns:")," ",(0,r.kt)("code",null,"Promise","<",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"),">"," & ",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.0.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"addlistenerbackbutton-"},"addListener('backButton', ...)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"addListener(eventName: 'backButton', listenerFunc: BackButtonListener) => Promise<PluginListenerHandle> & PluginListenerHandle\n")),(0,r.kt)("p",null,"Listen for the hardware back button event (Android only). Listening for this event will disable the\ndefault back button behaviour, so you might want to call ",(0,r.kt)("inlineCode",{parentName:"p"},"window.history.back()")," manually.\nIf you want to close the app, call ",(0,r.kt)("inlineCode",{parentName:"p"},"App.exitApp()"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"eventName"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"'backButton'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"listenerFunc"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,(0,r.kt)("a",{href:"#backbuttonlistener"},"BackButtonListener")))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returns:")," ",(0,r.kt)("code",null,"Promise","<",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"),">"," & ",(0,r.kt)("a",{href:"#pluginlistenerhandle"},"PluginListenerHandle"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.0.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"removealllisteners"},"removeAllListeners()"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"removeAllListeners() => Promise<void>\n")),(0,r.kt)("p",null,"Remove all native listeners for this plugin"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Since:")," 1.0.0"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"interfaces"},"Interfaces"),(0,r.kt)("h4",{id:"appinfo"},"AppInfo"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Prop"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Since"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"name"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the app."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"id"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The identifier of the app. On iOS it's the Bundle Identifier. On Android it's the Application ID"),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"build"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The build version. On iOS it's the CFBundleVersion. On Android it's the versionCode."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"version"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The app version. On iOS it's the CFBundleShortVersionString. On Android it's package's versionName."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")))),(0,r.kt)("h4",{id:"appstate"},"AppState"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Prop"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Since"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"isActive"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"boolean")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether the app is active or not."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")))),(0,r.kt)("h4",{id:"applaunchurl"},"AppLaunchUrl"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Prop"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Since"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"url"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The url used to open the app."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")))),(0,r.kt)("h4",{id:"pluginlistenerhandle"},"PluginListenerHandle"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Prop"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"remove"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"() =",">"," Promise","<","void",">"))))),(0,r.kt)("h4",{id:"urlopenlistenerevent"},"URLOpenListenerEvent"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Prop"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Since"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"url"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The URL the app was opened with."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"iosSourceApplication"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"any")),(0,r.kt)("td",{parentName:"tr",align:null},"The source application opening the app (iOS only) ",(0,r.kt)("a",{parentName:"td",href:"https://developer.apple.com/documentation/uikit/uiapplicationopenurloptionskey/1623128-sourceapplication"},"https://developer.apple.com/documentation/uikit/uiapplicationopenurloptionskey/1623128-sourceapplication")),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"iosOpenInPlace"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"boolean")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether the app should open the passed document in-place or must copy it first. ",(0,r.kt)("a",{parentName:"td",href:"https://developer.apple.com/documentation/uikit/uiapplicationopenurloptionskey/1623123-openinplace"},"https://developer.apple.com/documentation/uikit/uiapplicationopenurloptionskey/1623123-openinplace")),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")))),(0,r.kt)("h4",{id:"restoredlistenerevent"},"RestoredListenerEvent"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Prop"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Since"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"pluginId"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The pluginId this result corresponds to. For example, ",(0,r.kt)("inlineCode",{parentName:"td"},"Camera"),"."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"methodName"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"string")),(0,r.kt)("td",{parentName:"tr",align:null},"The methodName this result corresponds to. For example, ",(0,r.kt)("inlineCode",{parentName:"td"},"getPhoto")),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"data"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"any")),(0,r.kt)("td",{parentName:"tr",align:null},"The result data passed from the plugin. This would be the result you'd expect from normally calling the plugin method. For example, ",(0,r.kt)("inlineCode",{parentName:"td"},"CameraPhoto")),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"success"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"boolean")),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean indicating if the plugin call succeeded."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"error"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"{ message: string; }")),(0,r.kt)("td",{parentName:"tr",align:null},"If the plugin call didn't succeed, it will contain the error message."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")))),(0,r.kt)("h4",{id:"backbuttonlistenerevent"},"BackButtonListenerEvent"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Prop"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Since"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"canGoBack"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("code",null,"boolean")),(0,r.kt)("td",{parentName:"tr",align:null},"Indicates whether the browser can go back in history. False when the history stack is on the first entry."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0.0")))),(0,r.kt)("h3",{id:"type-aliases"},"Type Aliases"),(0,r.kt)("h4",{id:"statechangelistener"},"StateChangeListener"),(0,r.kt)("code",null,"(state: ",(0,r.kt)("a",{href:"#appstate"},"AppState"),"): void"),(0,r.kt)("h4",{id:"urlopenlistener"},"URLOpenListener"),(0,r.kt)("code",null,"(event: ",(0,r.kt)("a",{href:"#urlopenlistenerevent"},"URLOpenListenerEvent"),"): void"),(0,r.kt)("h4",{id:"restoredlistener"},"RestoredListener"),(0,r.kt)("code",null,"(event: ",(0,r.kt)("a",{href:"#restoredlistenerevent"},"RestoredListenerEvent"),"): void"),(0,r.kt)("h4",{id:"backbuttonlistener"},"BackButtonListener"),(0,r.kt)("code",null,"(event: ",(0,r.kt)("a",{href:"#backbuttonlistenerevent"},"BackButtonListenerEvent"),"): void")))}u.isMDXComponent=!0}}]);